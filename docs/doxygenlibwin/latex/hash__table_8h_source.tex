\doxysection{hash\+\_\+table.\+h}
\hypertarget{hash__table_8h_source}{}\label{hash__table_8h_source}\index{C:/Users/ahmet/OneDrive/Masa端st端/DataStructure/cen207-\/2025-\/2026-\/5-\/Mustafa-\/Yildirimm-\/cpp/include/ds/hash\_table.h@{C:/Users/ahmet/OneDrive/Masa端st端/DataStructure/cen207-\/2025-\/2026-\/5-\/Mustafa-\/Yildirimm-\/cpp/include/ds/hash\_table.h}}
\mbox{\hyperlink{hash__table_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }ds\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617}{SlotState}}\ \{\ }
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617ace2c8aed9c2fa0cfbed56cbda4d8bf07}{Empty}},\ \ \ \ \ \ }
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617abbd86c81e760279d9731d5cac811ba50}{Occupied}},\ \ \ }
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617a5fe6005bf6e415c950c011fb65f12b8f}{Deleted}}\ \ \ \ \ }
\DoxyCodeLine{00024\ \};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ K,\ \textcolor{keyword}{typename}\ V>}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classds_1_1_hash_table_a47881f4560d8482207d0c72061df0176}{HashTable}}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structds_1_1_hash_table_1_1_entry}{Entry}}\ \{\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ K\ \mbox{\hyperlink{structds_1_1_hash_table_1_1_entry_ae13e9ed3420c7513e15a5fb783535050}{key}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ V\ \mbox{\hyperlink{structds_1_1_hash_table_1_1_entry_a613402a3aca9f6fb7571bb7b350f3d95}{value}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617}{SlotState}}\ \mbox{\hyperlink{structds_1_1_hash_table_1_1_entry_a918b379713350c27f26a0bc044220f76}{state}}\ =\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617ace2c8aed9c2fa0cfbed56cbda4d8bf07}{SlotState::Empty}};\ \ }
\DoxyCodeLine{00043\ \ \ \ \ \};}
\DoxyCodeLine{00044\ \ \ \ \ }
\DoxyCodeLine{00045\ \ \ \ \ std::vector<Entry>\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00046\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}}\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classds_1_1_hash_table_a9791021117665e725c0bc73c7e258a33}{max\_load\_}}\ =\ 0.7f;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00048\ \ \ \ \ std::hash<K>\ \mbox{\hyperlink{classds_1_1_hash_table_a26b863af6d4339774e71afe1e7c33080}{hasher\_}}\{\};\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00055\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classds_1_1_hash_table_a228a82ca4a7e5438ee5725a441a84902}{idx}}(\textcolor{keyword}{const}\ K\&\ k)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classds_1_1_hash_table_a26b863af6d4339774e71afe1e7c33080}{hasher\_}}(k)\ \&\ (\mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size()\ -\/\ 1);\ \}}
\DoxyCodeLine{00056\ \ \ \ \ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classds_1_1_hash_table_a2b378cb65c687e96a785f3bd311197ea}{rehash}}(std::size\_t\ new\_cap)\{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ std::vector<Entry>\ old\ =\ std::move(\mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}});}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.assign(new\_cap,\ \mbox{\hyperlink{structds_1_1_hash_table_1_1_entry}{Entry}}\{\});\ \mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}}\ =\ 0;}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ e\ :\ old)\{\ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617abbd86c81e760279d9731d5cac811ba50}{SlotState::Occupied}})\ \mbox{\hyperlink{classds_1_1_hash_table_a11c32f21e0c681b3eee2e7cba0532dcc}{insert}}(e.key,\ e.value);\ \}}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classds_1_1_hash_table_a9b34ffbaba50d07a6951faf2dae7b476}{ensure}}()\{\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}}\ +\ 1\ >\ \textcolor{keyword}{static\_cast<}std::size\_t\textcolor{keyword}{>}(\mbox{\hyperlink{classds_1_1_hash_table_a9791021117665e725c0bc73c7e258a33}{max\_load\_}}\ *\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size()))\ \mbox{\hyperlink{classds_1_1_hash_table_a2b378cb65c687e96a785f3bd311197ea}{rehash}}(\mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size()<<1);\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classds_1_1_hash_table_a47881f4560d8482207d0c72061df0176}{HashTable}}(std::size\_t\ cap\ =\ 16)\{\ std::size\_t\ c=1;\ \textcolor{keywordflow}{while}(c<cap)\ c<<=1;\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.assign(c,\ \mbox{\hyperlink{structds_1_1_hash_table_1_1_entry}{Entry}}\{\});\ \}}
\DoxyCodeLine{00080\ \ \ \ \ }
\DoxyCodeLine{00085\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classds_1_1_hash_table_a3bb53d07891669bf56c915bc60b1f929}{size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}};\ \}}
\DoxyCodeLine{00086\ \ \ \ \ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classds_1_1_hash_table_a9441a212b9899e91aad5e3c915005395}{empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}}==0;\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classds_1_1_hash_table_a11c32f21e0c681b3eee2e7cba0532dcc}{insert}}(\textcolor{keyword}{const}\ K\&\ k,\ \textcolor{keyword}{const}\ V\&\ v)\{\ \mbox{\hyperlink{classds_1_1_hash_table_a9b34ffbaba50d07a6951faf2dae7b476}{ensure}}();\ std::size\_t\ i\ =\ \mbox{\hyperlink{classds_1_1_hash_table_a228a82ca4a7e5438ee5725a441a84902}{idx}}(k);\ std::size\_t\ first\_del\ =\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size();}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\textcolor{keyword}{true})\{\ \textcolor{keyword}{auto}\&\ e\ =\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}[i];\ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617ace2c8aed9c2fa0cfbed56cbda4d8bf07}{SlotState::Empty}})\{\ \textcolor{keywordflow}{if}\ (first\_del\ !=\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size())\ \{\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}[first\_del]\ =\ \{k,v,\mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617abbd86c81e760279d9731d5cac811ba50}{SlotState::Occupied}}\};\ \}\ \textcolor{keywordflow}{else}\ \{\ e\ =\ \{k,v,\mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617abbd86c81e760279d9731d5cac811ba50}{SlotState::Occupied}}\};\ \}\ ++\mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}};\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617a5fe6005bf6e415c950c011fb65f12b8f}{SlotState::Deleted}})\{\ \textcolor{keywordflow}{if}\ (first\_del\ ==\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size())\ first\_del\ =\ i;\ \}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (e.key\ ==\ k)\{\ e.value\ =\ v;\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ (i\ +\ 1)\ \&\ (\mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size()-\/1);}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00112\ \ \ \ \ V*\ \mbox{\hyperlink{classds_1_1_hash_table_aa50954bdb669803b7e6c9b0e63db48ab}{find}}(\textcolor{keyword}{const}\ K\&\ k)\{\ std::size\_t\ i\ =\ \mbox{\hyperlink{classds_1_1_hash_table_a228a82ca4a7e5438ee5725a441a84902}{idx}}(k);\ \textcolor{keywordflow}{while}(\textcolor{keyword}{true})\{\ \textcolor{keyword}{auto}\&\ e\ =\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}[i];\ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617ace2c8aed9c2fa0cfbed56cbda4d8bf07}{SlotState::Empty}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};\ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617abbd86c81e760279d9731d5cac811ba50}{SlotState::Occupied}}\ \&\&\ e.key\ ==\ k)\ \textcolor{keywordflow}{return}\ \&e.value;\ i\ =\ (i\ +\ 1)\ \&\ (\mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size()-\/1);\}\ \}}
\DoxyCodeLine{00113\ \ \ \ \ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{const}\ V*\ \mbox{\hyperlink{classds_1_1_hash_table_afb487ac0b40053e9e74902fb035ea979}{find}}(\textcolor{keyword}{const}\ K\&\ k)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{classds_1_1_hash_table_a47881f4560d8482207d0c72061df0176}{HashTable}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>\mbox{\hyperlink{classds_1_1_hash_table_afb487ac0b40053e9e74902fb035ea979}{find}}(k);\ \}}
\DoxyCodeLine{00120\ \ \ \ \ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classds_1_1_hash_table_a0acc1f9c857e04c3769939702b0e19c5}{contains}}(\textcolor{keyword}{const}\ K\&\ k)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classds_1_1_hash_table_aa50954bdb669803b7e6c9b0e63db48ab}{find}}(k)\ !=\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00127\ \ \ \ \ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classds_1_1_hash_table_a13001e8242174229d97e1b470704962c}{erase}}(\textcolor{keyword}{const}\ K\&\ k)\{\ std::size\_t\ i\ =\ \mbox{\hyperlink{classds_1_1_hash_table_a228a82ca4a7e5438ee5725a441a84902}{idx}}(k);\ \textcolor{keywordflow}{while}(\textcolor{keyword}{true})\{\ \textcolor{keyword}{auto}\&\ e\ =\ \mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}[i];\ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617ace2c8aed9c2fa0cfbed56cbda4d8bf07}{SlotState::Empty}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \textcolor{keywordflow}{if}\ (e.state\ ==\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617abbd86c81e760279d9731d5cac811ba50}{SlotState::Occupied}}\ \&\&\ e.key\ ==\ k)\{\ e.state\ =\ \mbox{\hyperlink{hash__table_8h_ab8d36885b547ab0c7e429bd1d578a617a5fe6005bf6e415c950c011fb65f12b8f}{SlotState::Deleted}};\ -\/-\/\mbox{\hyperlink{classds_1_1_hash_table_a9b7d14e05e82361e2166dac9be580190}{count\_}};\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}\ i\ =\ (i\ +\ 1)\ \&\ (\mbox{\hyperlink{classds_1_1_hash_table_ae6b9272c3d706ba75c7f6fabcdc9ace8}{table\_}}.size()-\/1);\}\ \}}
\DoxyCodeLine{00134\ \};}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \}\ \textcolor{comment}{//\ namespace\ ds}}
\DoxyCodeLine{00137\ }

\end{DoxyCode}
